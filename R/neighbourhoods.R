#' API calls around the neighbourhoods
#'
#' ukp_neighbourhoods
#'
#' This call retuns the list of neighbourhoods for a force, https://data.police.uk/docs/method/neighbourhoods/
#'
#' @param neighbourhood a text string of a neighbourhood in the UK
#'
#' @return tibble with columns id and name. id is a Police force specific team identifier, note that this identifier is not unique and may also be used by a different force. Name is the name for the neighbourhood
#' @export
#'
#' @examples
#'
#' \dontrun{
#' library(ukpolice)
#' ukp_neighbourhood("leicestershire")
#'
# # A tibble: 67 Ã— 2
#      id                            name
#    <chr>                          <chr>
# 1   NC04                    City Centre
# 2   NC66               Cultural Quarter
# 3   NC67                      Riverside
# 4   NC68                 Clarendon Park
# 5   NE09                 Belgrave South
# # ...
#
#' }
#'
ukp_neighbourhood <- function(neighbourhood){

  result <- ukp_api(sprintf("api/%s/neighbourhoods",neighbourhood))

  dplyr::bind_rows(result$content)

}
#' ukp_neighbourhood_team
#'
#' \code{ukp_neighbourhood_team} takes a longitude/latitude string and finds the associated neighbourhood code associated with that. Read more here https://data.police.uk/docs/method/neighbourhood-locate/
#'
#' @param lat_long a character string of
#'
#' @return a tibble
#'
#' @export
#'
ukp_neighbourhood_team <- function(lat_long){
  # lat_long = c("51.500617,-0.124629")
  result <- ukp_api(sprintf("api/locate-neighbourhood?q=%s", lat_long))

  dplyr::bind_rows(result$content)

}

